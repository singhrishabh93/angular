<div class="dashboard-container">
    <h1 class="page-title">Dashboard</h1>
    
    <!-- Key Metrics Cards -->
    <div class="metrics-grid">
        <div class="metric-card">
            <div class="metric-icon">
                <i class="fas fa-shopping-cart"></i>
            </div>
            <div class="metric-content">
                <h3>{{totalOrders}}</h3>
                <p>Total Orders</p>
            </div>
        </div>
        
        <div class="metric-card">
            <div class="metric-icon">
                <i class="fas fa-dollar-sign"></i>
            </div>
            <div class="metric-content">
                <h3>${{totalRevenue | number:2}}</h3>
                <p>Total Revenue</p>
            </div>
        </div>
        
        <div class="metric-card">
            <div class="metric-icon">
                <i class="fas fa-users"></i>
            </div>
            <div class="metric-content">
                <h3>{{totalUsers}}</h3>
                <p>Active Users</p>
            </div>
        </div>
        
        <div class="metric-card">
            <div class="metric-icon">
                <i class="fas fa-box"></i>
            </div>
            <div class="metric-content">
                <h3>{{totalProducts}}</h3>
                <p>Products</p>
            </div>
        </div>
    </div>
    
    <!-- Charts and Analytics Section -->
    <div class="analytics-section">
        <div class="chart-container">
            <h3>Revenue by Month</h3>
            <div class="chart-placeholder">
                <canvas id="revenueChart" width="400" height="200"></canvas>
            </div>
        </div>
        
        <div class="chart-container">
            <h3>Order Status Distribution</h3>
            <div class="chart-placeholder">
                <canvas id="statusChart" width="400" height="200"></canvas>
            </div>
        </div>
    </div>
    
    <!-- Recent Orders Table -->
    <div class="recent-orders">
        <h3>Recent Orders</h3>
        <div class="table-wrapper">
            <table class="orders-table">
                <thead>
                    <tr>
                        <th>Order ID</th>
                        <th>Customer</th>
                        <th>Total</th>
                        <th>Status</th>
                        <th>Date</th>
                        <th>Payment</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="order in recentOrders">
                        <td>#{{order.id}}</td>
                        <td>{{getUserById(order.userId).Name}}</td>
                        <td>${{order.totalPrice | number:2}}</td>
                        <td>
                            <span class="status-badge" ng-class="getStatusClass(order.orderStatus)">
                                {{order.orderStatus}}
                            </span>
                        </td>
                        <td>{{order.orderDate}}</td>
                        <td>
                            <span class="payment-badge" ng-class="order.paymentStatus === 'Paid' ? 'paid' : 'pending'">
                                {{order.paymentStatus}}
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <!-- Top Products -->
    <div class="top-products">
        <h3>Top Products</h3>
        <div class="products-grid">
            <div class="product-card" ng-repeat="product in topProducts">
                <div class="product-image">
                    <img ng-src="{{product.ImageURL}}" alt="{{product.name}}" onerror="this.src='https://via.placeholder.com/150x150?text=No+Image'">
                </div>
                <div class="product-info">
                    <h4>{{product.name}}</h4>
                    <p class="product-category">{{product.Category}}</p>
                    <p class="product-price">${{product.Price | number:2}}</p>
                    <div class="product-stats">
                        <span class="sales-count">{{getProductSales(product.id)}} sales</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Quick Stats -->
    <div class="quick-stats">
        <div class="stat-item">
            <h4>Average Order Value</h4>
            <p class="stat-value">${{averageOrderValue | number:2}}</p>
        </div>
        <div class="stat-item">
            <h4>Orders This Month</h4>
            <p class="stat-value">{{ordersThisMonth}}</p>
        </div>
        <div class="stat-item">
            <h4>Pending Payments</h4>
            <p class="stat-value">{{pendingPayments}}</p>
        </div>
        <div class="stat-item">
            <h4>Delivered Orders</h4>
            <p class="stat-value">{{deliveredOrders}}</p>
        </div>
    </div>
</div>
